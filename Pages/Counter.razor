@page "/counter"

<PageTitle>Jousting Match</PageTitle>

<h1>Jousting Match</h1>

<header class="match-header">
    <h2>Player I</h2>
    <h2>Player II</h2>
</header>

<article class="jousting-ground">
    <section class="background">

    </section>
    <section class="jousting-side jousting-p1">
        <div class="character location">
            <img class="animation" id="@("a"+position[0])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("a"+position[1])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("a"+position[2])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("a"+position[3])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("a"+position[4])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("a"+position[5])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("a"+position[6])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("a"+position[7])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("a"+position[8])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("a"+position[9])" src="k2sprite.png" alt="Warrior pixel art animation" />
        </div>
    </section>
    <div class="jousting-tilt">
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
        <div class="fence">
            <img src="../fence.png">
        </div>
    </div>

    <section class="jousting-side jousting-p2">
        <div class="character location">
            <img class="animation" id="@("b"+position[19])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("b"+position[18])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("b"+position[17])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("b"+position[16])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("b"+position[15])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("b"+position[14])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("b"+position[13])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("b"+position[12])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("b"+position[11])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
        <div class="character location">
            <img class="animation" id="@("b"+position[10])" src="k1sprite.png" alt="Warrior pixel art animation" />
        </div>
    </section>
</article>

<p role="status">Current count: @players[0]</p>
<p role="status">Current count: @players[1]</p>

<button class="btn btn-primary" @onclick="() => IncrementCount(0)">Player 1</button>
<button class="btn btn-primary" @onclick="() => IncrementCount(1)">Player 2</button>

@code {
    private int[] players = { -1, -1 };
    private int[] position = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };
    private void IncrementCount(int player)
    {
        int pos = 0;
        if (player == 0)
        {
            pos = 0;
        }
        else if (player == 1)
        {
            pos = 10;
        }
        players[player]++;
        if (players[player] < 10)
        {
            position[players[player] + pos] = 1;
        }
        if (players[player] > 0 && players[player] <= 10)
        {
            position[players[player] - 1 + pos] = 0;
        }
        if (players[player] >= 10)
        {
            players[player] = -1;
        }
    }
}
